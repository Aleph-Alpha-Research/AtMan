name: atman-eval-layers
project: atman
max_restarts: 2
environment:
  force_pull_image: true
resources:
  priority: 40
  slots_per_trial: 1
  devices:
    - container_path: /dev/infiniband
      host_path: /dev/infiniband
      mode: mrw
searcher:
  name: grid
  metric: not_needed
  max_concurrent_trials: 8
  max_length: 10000

bind_mounts:
entrypoint: python3 run_eval.py
hyperparameters:
  result_path:
    type: categorical
    vals:
      - /det_cos_nolog_mult_layers
  conc_sup:
    type: categorical
    vals:
      - .7
  sup_fact:
    type: categorical
    vals:
      - .7
  layers:
    type: categorical
    vals:
      - [[0,1],[2,3],[4,5],[6,7]]
      - [[8,9],[10,11],[12,13],[14,15]]
      - [[16,17],[18,19],[20,21],[22,23]]
      - [[24,25],[26,27],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]]
      - [[0,1,2,3],[0,1,2,3,4,5],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8,9]]
      - [[0,1,2,3,4,5,6,7,8,9,10,11],[0,1,2,3,4,5,6,7,8,9,10,11,12,13],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]]
      - [[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]]
